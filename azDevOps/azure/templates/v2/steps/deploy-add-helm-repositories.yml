parameters:
  container: "host"
  helm_repositories: []
steps:
  - ${{ each repository in parameters.helm_repositories }}:
      - task: PowerShell@2
        inputs:
          targetType: 'filePath'
          filePath: "../../../../../scripts/pwsh/k8s/New-HelmRepository.ps1"
          arguments: >
            -RepositoryName ${{ repository.key }}
            -RepositoryUrl ${{ repository.value }}
        target:
          container: "${{ parameters.container }}"
        displayName: "Add: Helm Repository (${{ repository.key }}: ${{ repository.value }})"
